<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>AI 心理小幫手</title>
  <style>
    iframe { width: 100%; height: 500px; border: none; }
    .chat-box { margin-top: 20px; }
  </style>
</head>
<body>

<h1>AI 心理小幫手</h1>

<iframe id="chatgptiframe" src="https://app.chatbit.co/iframe/你的Chatbase-ID"></iframe>

<div class="chat-box">
  <input type="text" id="userInput" placeholder="輸入心情..." />
  <button onclick="sendChat()">送出</button>
</div>

<script>
  const API_URL = "https://script.google.com/macros/s/你的Script網址/exec";

  async function sendChat() {
    const userId = "testUser";
    const userMsg = document.getElementById("userInput").value;
    const botReply = "暫無"; // 目前無法從 Chatbase 取回回覆

    await fetch(API_URL, {
      method: "POST",
      body: JSON.stringify({ userId, userMessage: userMsg, botReply }),
      headers: { "Content-Type": "application/json" },
    });

    alert("你的訊息已送出並儲存！");
    document.getElementById("userInput").value = "";
  }
</script>

</body>
</html>
